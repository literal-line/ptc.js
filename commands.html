<!DOCTYPE html>
<html>
    <head>
        <title>Command Directory</title>
        <style>
            @font-face {
                font-family: 'ptc';
                src: url('./assets/font/PetitComputer.ttf');
            }

            body {
                background-color: #FFFFFD;
                font-size: 14pt;
            }

            a {
                color: #000066;
            }

            h1 {
                padding-bottom: 10px;
                border-bottom: 1px solid #000000;
                text-align: center;
                position: sticky;
                top: 0;
                z-index: 1;
                background-color: #FFFFFD;
            }

            h2 {
                padding-top: 20px;
                border-bottom: 1px solid #000000;
            }

            h3 {
                padding-top: 10px;
                border-bottom: 1px solid #BBBBBB;
            }

            strong {
                color: #FF0000;
            }

            .anchor::before {
                display: block; 
                content: " ";
                margin-top: -65px; 
                height: 65px; 
                visibility: hidden; 
            }

            code {
                padding-left: 5px;
                padding-right: 5px;
                background-image: url('./assets/codebg.png');
                font-family: 'ptc';
                color: #FFFFFF;
                image-rendering: pixelated;
                image-rendering: -moz-crisp-edges;
                font-size: 16pt;
            }

            #back {
                position: fixed;
                top: 5px;
                left: 5px;
                z-index: 2;
            }

            #toc {
                padding-left: 10px;
                padding-right: 10px;
                border: 1px solid #000000;
                background-color: #FFFFFD;
                position: fixed;
                left: 10px;
                z-index: 0;
                height: 80%;
                width: 260px;
                overflow: scroll;
                scrollbar-width: none;
            }

            #content {
                margin-left: 300px;
                text-align: left;
            }
        </style>
    </head>
    <body>
        <div id="back"><a href="" onclick="window.close()">&lt&lt Close</a></div>
        <h1><a href="./">PTC.js</a> Command Directory</h1>
        <div id="toc">
            <h2>Table of Contents</h2>
            <ul>
                <li><a href="#introduction">Introduction</a></li>
                &nbsp;
                <li><a href="#cmdrules">Rules for Inputting Commands</a></li>
                &nbsp;
                <li><a href="#updates">Updates</a></li>
                <li><a href="#todo">To-Do List</a></li>
                &nbsp;
                <li>
                    <a href="#consolecommands">Console Commands</a>
                    <ul>
                        <li><a href="#cls">CLS</a></li>
                        <li><a href="#print">PRINT</a></li>
                        <li><a href="#locate">LOCATE</a></li>
                        <li><a href="#color">COLOR</a></li>
                        <li><a href="#asc">ASC()</a></li>
                        <li><a href="#chr$">CHR$()</a></li>
                        <li><a href="#chkchr">CHKCHR()</a></li>
                    </ul>
                </li>
                <li>
                    <a href="#graphiccommands">Graphic Commands</a>
                    <ul>
                        <li><a href="#gcls">GCLS</a></li>
                        <li><a href="#gline">GLINE</a></li>
                    </ul>
                </li>
                <li>
                    <a href="#audiocommands">Audio Commands</a>
                    <ul>
                        <li><a href="#beep">BEEP</a></li>
                    </ul>
                </li>
            </ul>
        </div>
        <div id="content">
            <div class="anchor" id="introduction">
                <h2>Welcome to the handy dandy PTC.js command directory!</h2>
                <p>PTC.js is an in-development port/interpreter/remake/JS-reimagining thing for the DSiWare app "Petit Computer." It is written in HTML5 for the web browser.</p>
                Key Features of PTC.js:
                <ul>
                    <li>A 256 pixel by 384 pixel resolution, the DSi's native resolution.</li>
                    <li>JavaScript integration with PTC commands.</li>
                    <li>Written in ES5 in case your browser sucks or something.</li>
                    <li>A hardworking coder that is willing to fix any and all bugs (even if he's not the best programmer out there).</li>
                </ul>
                &nbsp;
                <p>So far, there are very little commands, and they can only be inputted using JavaScript syntax. However, this project has only just started and is nowhere near completion. Expect more features soon.</p>
            </div>

            <div class="anchor" id="cmdrules">
                <h2>Rules for Inputting Commands:</h2>
                <p>So far, there are two ways to input commands. Both use JavaScript syntax:</p>
                <ul>
                    <li>Typing the commands directly into the PTC console.</li>
                    <li>Typing the commands into the browser's dev console.</li>
                </ul>
                <p><strong>There is currently no way to input commands using the PTC format.</strong></p>
            </div>

            <div class="anchor" id="todo">
                <h2>To-Do List</h2>
                <ul>
                    <li>PTC syntax interpreter.</li>
                    <li>Edit mode.</li>
                    <li>Full PNL functionality.</li>
                    <li>Make blank console spaces and actual spaces separate text characters.</li>
                </ul>
            </div>
            <div class="anchor" id="updates">
                <h2>Updates:</h2>

                <h3>September 7, 2020</h3>
                <p>Removed command categories to make inputting commands easier.</p>
                <p>Added semi support for the BUTTON() function, and a test program. Call the function "testPrg()" to try it out!</p>
                <p>Added/modified more behind-the-scenes functions, but I won't list them here anymore.</p>

                <h3>August 26, 2020</h3>
                <p>Added uppercase KYK keyboard (Japanese Katakana Keyboard).</p>
                <p>Fixed some console/inputMode bugs.</p>
                <p>Fixed some errors in the PTC font.</p>
                <p>Added cache for PNL keys to increase keyboard switching speed.</p>

                <h3>August 25, 2020</h3>
                <p>Implemented the Shift key into keyboard. This took forever to get PTC-accurate, but it's finally finished.</p>
                <p>Implemented the KYM keyboard (symbol keyboard) and the ability to switch between keyboard types.</p>
                <p>Added the Escape key (does nothing yet).</p>
                <p>Changed some IIFE return values/functions. I won't list them here.</p>

                <h3>August 24, 2020</h3>
                <p>Used Math.floor() so console text <i>actually snaps to the 32x24 grid</i> (whoops).</p>
                <p>Floored COLOR command parameter as well (might have to do some more floor-ing).</p>
                <p>Revamped the code for the PNL screen. Everything is accurate to PTC (except key repeat due to HTML buttons).</p>
                <p>Started progress on a dedicated inputHandler for later use.</p>

                <h3>August 12, 2020</h3>
                <p>Fixed more input bugs. The console/input layers are nearly finished.</p>
                <p>Added a volume parameter to the BEEP command.</p>
                <p>Added on-screen keyboard support (kinda).</p>
                <p>Added <i>pnl.keys</i>, <i>pnl.drawKeys(kb, kbcase)</i>, and <i>pnl.switchCase()</i><strong>*</strong>.</p>

                <h3>August 8, 2020</h3>
                <p>Fixed input bugs and created a new input system.</p>
                <p>Turned down beep volume until volume parameters are implemented into the command.</p>
                <p>Prepared the on-screen keyboard for on-screen keyboardness.</p>
                <p>Added the <i>clearLine()</i><strong>*</strong> command.</p>
                <p>Added <i>inputMode.getConsoleDataObject</i><strong>*</strong>.</p>
                <p>Deleted old console dev commands in favor of <i>runMode.getConsoleDataObject</i><strong>*</strong>.</p>

                <h3>August 7, 2020<sup>+</sup></h3>
                <p>Added the ability to input commands through the PTC console (JS syntax only).</p>

                <h3>August 6, 2020</h3>
                <p>Added the following commands:</p>
                <ul>
                    <li>ASC()</li>
                    <li>CHR$()</li>
                    <li>BEEP</li>
                </ul>
                <p>Renamed the following console commands:</p>
                <ul>
                    <li><i>default()</i> to <i>welcome()</i>.</li>
                    <li><i>getConsoleChrIDs()</i> to <i>getChrIDs()</i>.</li>
                    <li><i>printConsoleChrIDs()</i> to <i>printChrIDs()</i>.</li>
                    <li><i>getConsoleChrTable()</i> to <i>getChrTable()</i>.</li>
                </ul>
                <p>Cleaned up the console's code.</p>

                <h3>July 13, 2020</h3>
                <p>Added the following console commands:</p>
                <ul>
                    <li><i>getChrIDs()</i><strong>*</strong></li>
                    <li><i>printChrIDs()</i><strong>*</strong></li>
                </ul>

                <h3>July 11, 2020</h3>
                <p>Added the following console commands:</p>
                <ul>
                    <li>CHKCHR() (as well as a new system for keeping track of console characters)</li>
                    <li><i>getChrTable()</i><strong>*</strong></li>
                </ul>

                <h3>July 9, 2020</h3>
                <p>Added the following console/graphic commands:</p>
                <ul>
                    <li>CLS</li>
                    <li>PRINT</li>
                    <li>LOCATE</li>
                    <li>COLOR</li>
                    <li>GCLS</li>
                    <li>GLINE</li>
                    <li><i>default()</i><strong>*</strong></li>
                </ul>
                &nbsp;
                <p><strong><i>*behind-the-scenes JS function/object. Use only for debugging.</i></strong></p>
                <p><i><sup>+</sup><strong> fat update.</i></strong></p>
            </div>

            <div class="anchor" id="consolecommands">
                <h2>Console Commands</h2>
                <p>The console layer is the highest layer on the upper screen. It used to print strings of text.</p>
                Console character range:
                <ul>
                    <li>X: 0-31</li>
                    <li>Y: 0-23</li>
                </ul>
                <p>The following commands can be used with the console:</p>
                
                <div class="anchor" id="cls">
                    <h3>CLS</h3>
                    <p>Parameters: none</p>
                    <p>JS format: <code>runMode.cls()</code></p>
                    <p>PTC format: <code>CLS</code></p>
                    &nbsp;
                    <p>Clears the console screen.</p>
                </div>
                <div class="anchor" id="print">
                    <h3>PRINT</h3>
                    <p>Parameters: text</p>
                    <p>JS format: <code>runMode.print(text)</code></p>
                    <p>PTC format: <code>PRINT "text"</code></p>
                    &nbsp;
                    <p>Prints text to the console screen.</p>
                </div>
                <div class="anchor" id="locate">
                    <h3>LOCATE</h3>
                    <p>Parameters: x position, y position</p>
                    <p>JS format: <code>runMode.locate(x, y)</code></p>
                    <p>PTC format: <code>LOCATE x,y</code></p>
                    &nbsp;
                    <p>Sets position of console character placement.</p>
                </div>
                <div class="anchor" id="color">
                    <h3>COLOR</h3>
                    <p>Parameters: palette number</p>
                    <p>JS format: <code>runMode.color(palette number)</code></p>
                    <p>PTC format: <code>COLOR palette number</code></p>
                    &nbsp;
                    <p>Sets color of console character placement.</p>
                </div>
                <div class="anchor" id="asc">
                    <h3>ASC()</h3>
                    <p>Parameters: text</p>
                    <p>JS format: <code>runMode.asc(chr)</code></p>
                    <p>PTC format: <code>ASC(chr)</code></p>
                    &nbsp;
                    <p>Returns an ASCII ID for the first character of the text string.</p>
                </div>
                <div class="anchor" id="chr$">
                    <h3>CHR$()</h3>
                    <p>Parameters: ASCII ID</p>
                    <p>JS format: <code>runMode.chr$(id)</code></p>
                    <p>PTC format: <code>CHR$(id)</code></p>
                    &nbsp;
                    <p>Returns a text character for the specified ASCII ID.</p>
                </div>
                <div class="anchor" id="chkchr">
                    <h3>CHKCHR()</h3>
                    <p>Parameters: x position, y position</p>
                    <p>JS format: <code>runMode.chkChr(x, y)</code></p>
                    <p>PTC format: <code>CHKCHR(x,y)</code></p>
                    &nbsp;
                    <p>Returns ASCII ID of the text character at the specified console position.</p>
                    <p><strong>NOTE: </strong>At the moment, CHKCHR() cannot distinguish spaces from empty characters.</p>
                </div>

            </div>

            <div class="anchor" id="graphiccomands">
                <h2>Graphic Commands</h2>
                <p>The graphic layer is the layer furthest-back on the upper screen. It is used to draw lines and shapes. The following commands can be used with the graphic layer.</p>
                <p><strong>NOTE: </strong>Graphic commands are supposed to have their own color palette, but this has not been implemented yet.</p>

                <div class="anchor" id="gcls">
                    <h3>GCLS</h3>
                    <p>Parameters: none</p>
                    <p>JS format: <code>runMode.gcls()</code></p>
                    <p>PTC format: <code>GCLS</code></p>
                    &nbsp;
                    <p>Clears the graphic screen.</p>
                </div>
                <div class="anchor" id="gline">
                    <h3>GLINE</h3>
                    <p>Parameters: x start, y start, x end, y end, palette number</p>
                    <p>JS format: <code>runMode.gline(x1, y1, x2, y2, palette number)</code></p>
                    <p>PTC format: <code>GLINE x1, y1, x2, y2, palette number</code></p>
                    &nbsp;
                    <p>Draws a line on the graphic screen.</p>
                </div>

            </div>

            <div class="anchor" id="audiocommands">
                <h2>Audio Commands</h2>
                <p>The following commands play audio:</p>

                <div class="anchor" id="beep">
                    <h3>BEEP</h3>
                    <p>Parameters: [sound ID, volume]</p>
                    <p>JS format: <code>runMode.beep()</code></p>
                    <p>PTC format: <code>BEEP</code></p>
                    &nbsp;
                    <p>Plays the specified sound effect.</p>
                </div>
            </div>
        </div>
    </body>
</html>
